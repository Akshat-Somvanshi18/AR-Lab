<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js" integrity="sha512-6+YN/9o9BWrk6wSfGxQGpt3EUK6XeHi6yeHV+TYD2GR0Sj/cggRpXr1BrAQf0as6XslxomMUxXp2vIl+fv0QRA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-environment-component@1.3.7/dist/dist/aframe-extras.js"></script>
  </head>
  <body style="margin: 0px; overflow: hidden">
    <a-scene  arjs="debugUIEnabled: true">
        <a-assets>
            <a-asset-item id="A" src="./models/alphabets/A/scene.gltf"></a-asset-item>
            <a-asset-item id="B" src="./models/alphabets/B/scene.gltf"></a-asset-item>
            <a-asset-item id="C" src="./models/alphabets/C/scene.gltf"></a-asset-item>
            <a-asset-item id="D" src="./models/alphabets/D/scene.gltf"></a-asset-item>
        </a-assets>
        
          
        <a-marker type="pattern" url="./markers/alphabet/marker/practice.patt" class="alphabetMarker" name="A-Marker">
            <a-gltf-model src="#A" scale="10 10 10" rotation="-60 0 0" position="2 0 0" animation-mixer></a-gltf-model>
        </a-marker>

        <a-marker type="pattern" url="./markers/alphabet/marker/B.patt" class="alphabetMarker" name="B-Marker">
            <a-gltf-model src="#B" scale="2 2 2" animation-mixer></a-gltf-model>
        </a-marker>

        <a-marker type="pattern" url="./markers/alphabet/marker/C.patt" class="alphabetMarker" name="C-Marker">
            <a-gltf-model src="#C" rotation="-90 0 0" scale="5 5 5" animation-mixer></a-gltf-model>
        </a-marker>

        <a-marker type="pattern" url="./markers/alphabet/marker/D.patt" class="alphabetMarker" name="D-Marker">
            <a-gltf-model src="#D" rotation="20 90 -60" animation-mixer></a-gltf-model>
        </a-marker>

        <a-entity camera></a-entity>
    </a-scene>
    <script>
      let ASound = new Howl({src: ['./audio/alphabets/A.mp3']});
      let BSound = new Howl({src: ['./audio/alphabets/B.mp3']});
      let CSound = new Howl({src: ['./audio/alphabets/C.mp3']});
      let DSound = new Howl({src: ['./audio/alphabets/D.mp3']});

      const audioMap = {
        'A-Marker': ASound,
        'B-Marker': BSound,
        'C-Marker': CSound,
        'D-Marker': DSound
      };

      window.onload = function(){

        let markers = document.getElementsByClassName("alphabetMarker");
        console.log(markers);
        Array.from(markers).forEach(function(marker){
          const name = marker.getAttribute("name");

          marker.addEventListener("markerFound",function(){
            audioMap[name].play();
          })

          marker.addEventListener("markerLost",function(){
            audioMap[name].stop();
          })

        })
        

        // let AMarker = document.getElementById("A-Marker");
        // let BMarker = document.getElementById("B-Marker");
        // let CMarker = document.getElementById("C-Marker");
        // let DMarker = document.getElementById("D-Marker");

        // AMarker.addEventListener("markerFound",function(){
        //   ASound.play();
        // });
        // AMarker.addEventListener("markerLost",function(){
        //   ASound.stop();
        // });

        // BMarker.addEventListener("markerFound",function(){
        //   BSound.play();
        // });
        // BMarker.addEventListener("markerLost",function(){
        //   BSound.stop();
        // });

        // CMarker.addEventListener("markerFound",function(){
        //   CSound.play();
        // });
        // CMarker.addEventListener("markerLost",function(){
        //   CSound.stop();
        // });

        // DMarker.addEventListener("markerFound",function(){
        //   DSound.play();
        // });
        // DMarker.addEventListener("markerLost",function(){
        //   DSound.stop();
        // });

      }
    </script>
  </body>
</html>